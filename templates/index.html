{% extends "base.html" %}

{% block content %}
  <section class="hero">
    <p class="eyebrow">Bob's junk</p>
    <h1>Static tools. Some notes.</h1>
    <div class="lede">{{ section.content | safe }}</div>
  </section>

  <section class="panel">
    <h2>Projects</h2>
    <ul class="plain-list cards">
      <li>
        <a href="/pgqp/">pgqp</a>
        <p>postgres parameter interpolation and formatting</p>
      </li>
      <li>
        <a href="/pgmm/">pgmm</a>
        <p>postgres query plans to mermaid diagrams</p>
      </li>
    </ul>
  </section>

  {% set blog = get_section(path="blog/_index.md") %}
  <section class="panel">
    <div class="panel-head">
      <h2>Latest posts</h2>
      <a href="{{ get_url(path='@/blog/_index.md') }}">view all</a>
    </div>
    {% if blog.pages | length > 0 %}
      <ul class="plain-list posts">
        {% for post in blog.pages %}
          <li>
            <a href="{{ post.permalink }}">{{ post.title }}</a>
            <time datetime="{{ post.date }}">{{ post.date | date(format="%Y-%m-%d") }}</time>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No posts yet.</p>
    {% endif %}
  </section>
{% endblock content %}
